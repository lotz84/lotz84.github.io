<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Web API ã«å‹ã‚’ä»˜ã‘ã‚‹è©±</title>
        <meta name="viewport" content="width=device-width" />
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lora" />
        <link rel="stylesheet" href="../css/kube.min.css" />
        <link rel="stylesheet" href="../css/prism.css" />
        <link rel="stylesheet" href="../css/main.css" />
        <link rel="stylesheet" href="../font/octicons.css" />
        <script type="text/javascript" src="../js/prism.js"></script>
    </head>
    <body>
        <div class="units-row units-padding">
            <div class="unit-20 sidemenu">
                <h1><a href="../">flip map <img src="../img/samurai.png" style="margin:-15px 0 0 -30px;width:60px"></a></h1>
                <p><a href="https://placekitten.com/"><img src="https://placekitten.com/g/200/160"></a></p>
                <h2>Index</h2>
                <ul>
                    <li><a href="../about"><span class="octicon octicon-person"></span> About</a></li>
                    <li><a href="../posts"><span class="octicon octicon-file-text"></span> Blog</a></li>
                    <li><a href="https://github.com/lotz84" target="blank_"><span class="octicon octicon-mark-github"></span> Github</a></li>
                    <li><a href="https://twitter.com/lotz84_" target="blank_"><span class="octicon octicon-mention"></span> Twitter</a></li>
                    <li><a href="../feed.xml" target="blank_"><span class="octicon octicon-rss"></span> RSS</a></li>
                </ul>
            </div>
            <div class="unit-80 entry-body-main">
                <h1><a href="../posts/a-story-of-typing-web-api">Web API ã«å‹ã‚’ä»˜ã‘ã‚‹è©±</a></h1>
<p>2015/06/07</p>
<p>ã¿ãªã•ã‚“å‹ä»˜ã‘ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ<br />
Haskellã®ã‚ˆã†ãªæŸ”è»Ÿãªå‹ã«æ…£ã‚Œã¦ãã‚‹ã¨ä½•ã§ã‚‚ã‹ã‚“ã§ã‚‚å‹ã§è¡¨ç¾ã§ããªã„ã¨æ°—ãŒã™ã¾ãªããªã£ã¦ãã¾ã™ã‚ˆã­ğŸ’ƒ</p>
<p>ä»Šæ—¥ã¯servantã¨ã„ã†Web Application Framework(WAF)ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚<br />
ç‰¹å¾´ã¨ã—ã¦<a href="http://haskell-servant.github.io/tutorial/">ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</a>ã§ã¯ä»¥ä¸‹ã®4ã¤ãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™</p>
<ul>
<li>ç°¡æ½”ã§ã‚ã‚‹</li>
<li>æ±ç”¨çš„ãƒ»æŸ”è»Ÿæ€§ãŒã‚ã‚‹</li>
<li>é–¢å¿ƒã®åˆ†é›¢</li>
<li>å‹å®‰å…¨ã§ã‚ã‚‹</li>
</ul>
<p>ç°¡æ½”ã«æ›¸ã‘ãŸã‚Šæ±ç”¨çš„ã§ã‚ã‚‹ã“ã¨ã¯WAFã§ã‚ã‚Œã°å½“ç„¶æŒã£ã¦ã„ã¦æ¬²ã—ã„ç‰¹å¾´ã§ã‚ã‚Šã¾ã™ãŒã€<strong>é–¢å¿ƒã®åˆ†é›¢</strong>ã¨<strong>å‹å®‰å…¨ã§ã‚ã‚‹</strong>ã¨ã„ã†ã®ã¯ã©ã†ã„ã†ã“ã¨ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
<p><strong>é–¢å¿ƒã®åˆ†é›¢</strong>ã¨ã„ã†ã®ã¯ä½•ã¨ä½•ã‚’åˆ†é›¢ã—ã¦ã„ã‚‹ã‹ã¨ã„ã†ã¨ã€APIã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«é–¢ã™ã‚‹å‡¦ç†ã¨å†…éƒ¨ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢ã—ã‚ˆã†ã¨ã„ã†è©±ã§ã™ã€‚ä¾‹ãˆã°ä¸€èˆ¬çš„ãªWAFã§ã‚ã‚Œã°ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§é€ã‚‰ã‚Œã¦ããŸbodyã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦ç›®å½“ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½œã‚‹å¿…è¦ãŒã‚ã£ãŸã‚Šã€ãƒ˜ãƒƒãƒ€ãƒ¼ã«å«ã¾ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’æ¤œç´¢ã—ã¦å–ã£ã¦ããŸã‚Šã€ãƒ‡ãƒ¼ã‚¿ã‚’ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã—ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«è©°ã‚ã¦ã‚„ã£ãŸã‚Šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€servantã§ã¯ãã†ã„ã£ãŸã‚ã‚‹æ„å‘³å†—é•·ãªéƒ¨åˆ†ã‚‚WAFãŒæ‹…å½“ã—ã¦ãã‚Œã‚‹ã®ã§æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p>ãªãœãã‚ŒãŒå¯èƒ½ãªã®ã‹ã¨ã„ã†ã¨<strong>å‹å®‰å…¨ã§ã‚ã‚‹</strong>ã“ã¨ã«é–¢ä¿‚ã—ã¦ã„ã¾ã™ã€‚servantã¯ãã®APIãŒã©ã†ã„ã†ã‚‚ã®ã§ã‚ã‚‹ã®ã‹ã‚’å‹ã«ã‚ˆã£ã¦è¨˜è¿°ã—ã¾ã™ã€‚ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯ã©ã†ãªã£ã¦ã„ã‚‹ã®ã‹ã€ã©ã†ã„ã†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒé€ã‚‰ã‚Œã¦ãã‚‹ã®ã‹ã€ã©ã†ã„ã†ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã•ã‚Œã‚‹ã®ã‹ã€ãªã©ã‚’ã™ã¹ã¦å‹ã§è¡¨ç¾ã—ã¾ã™ã€‚ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ã«ã§ã™ã€‚</p>
<pre class="language-haskell"><code>             -- POST /todo/:id
type TodoAPI = &quot;todo&quot; :&gt; Capture &quot;id&quot; Int :&gt; ReqBody '[JSON] Todo :&gt; Post '[JSON] [Todo]</code></pre>
<p>ã‚³ãƒ¡ãƒ³ãƒˆã¯è¦‹ã‚„ã™ã„ã‚ˆã†ã«ã¤ã‘ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚ã“ã®å‹ã‚’ãªã‚“ã¨ãªãèª­ã‚“ã§ã¿ã‚‹ã¨ã¨<code>TodoAPI</code>ã§ã¯<strong>/todo/:id</strong>ã«POSTã§bodyã«JSONå½¢å¼ã®Todoã‚’å…¥ã‚Œã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹ã¨JSONå½¢å¼ã§Todoã®ãƒªã‚¹ãƒˆãŒè¿”ã£ã¦ãã‚‹ã¨ã„ã†é¢¨ã«èª­ã‚ãã†ã§ã™ã€‚Todoã¯ç‹¬è‡ªã«å®šç¾©ã—ãŸãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚ã•ã‚‰ã«ã“ã®APIã®å®Ÿè£…ä¾‹ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<pre class="language-haskell"><code>server :: Server TodoAPI
server = postTodo
    where
    postTodo targetId todo = return todoList</code></pre>
<p>postTodo ã®å‹ã¯<code>postTodo :: Int -&gt; Todo -&gt; EitherT ServantErr IO [Todo]</code> ã®ã‚ˆã†ã«ãªã£ã¦ã¦APIã®ä¸€éƒ¨ã§ã‚ã‚‹ã“ã¨ã‚’æ„è­˜ã•ã›ãªã„æ™®é€šã®é–¢æ•°ã«ãªã£ã¦ã„ã¾ã™ã€‚æˆ»ã‚Šå€¤ã®å‹ã¯å°‘ã—è¤‡é›‘ã§ã™ãŒServantã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ç„¡è¦–ã™ã‚Œã°ã»ã¨ã‚“ã©<code>IO [Todo]</code>ã«ç­‰ã—ã„ã§ã—ã‚‡ã†ã€‚ã“ã®ã‚ˆã†ã«å‹ã«ååˆ†ãªæƒ…å ±ã‚’æŒãŸã›ã‚‹ã“ã¨ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ‘ãƒ¼ã‚¹ãªã©ã®å†—é•·ãªå‡¦ç†ã‚’ç„¡ãã—ã€ä»Šã¾ã§ã®WAFã«ã¯ç„¡ã‹ã£ãŸã‚ˆã†ãªç°¡æ½”ãªå®Ÿè£…ã‚’å®Ÿç¾ã—ã¦ã„ã‚‹ã®ã§ã™ã€‚</p>
<h2 id="å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã‚‹">å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã‚‹</h2>
<p>servantã®æ„Ÿè§¦ã‚’æ´ã‚“ã§ã‚‚ã‚‰ã£ãŸã¨ã“ã‚ã§æ—©é€Ÿå…·ä½“çš„ãªWebã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼ä»Šå›ã¯ã‚ˆãã‚ã‚‹ç°¡å˜ãªTodoã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚</p>
<p>ã¾ãšã¯Todoã®ãƒªã‚¹ãƒˆã‚’è¿”ã™APIã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†</p>
<pre class="language-haskell"><code>{-# LANGUAGE DataKinds, TypeOperators, OverloadedStrings #-}

import Servant
import Data.Aeson
import Network.Wai
import Network.Wai.Handler.Warp

data Todo = Todo
    { todoId    :: Int
    , todoDone  :: Bool
    , todoTitle :: String
    }

instance ToJSON Todo where
    toJSON todo = object [ &quot;id&quot;    .= todoId    todo
                         , &quot;done&quot;  .= todoDone  todo
                         , &quot;title&quot; .= todoTitle todo
                         ]

             -- GET /todo/all
type TodoAPI = &quot;todo&quot; :&gt; &quot;all&quot; :&gt; Get '[JSON] [Todo]

todoAPI :: Proxy TodoAPI
todoAPI = Proxy

server :: Server TodoAPI
server = todoAll
    where
    todoAll = return [Todo 1 False &quot;Sleeping&quot;, Todo 2 True &quot;Dinner&quot;]

main :: IO ()
main = do
    putStrLn &quot;Listening on port 3000&quot;
    run 3000 $ serve todoAPI server</code></pre>
<p>ã¾ãš<code>Todo</code>ã‚’ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§è¿”ã™ãŸã‚ã«<code>ToJSON</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã—ã¦ã‚„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãã—ã¦servantå”¯ä¸€ã®å†—é•·ãªè¨˜è¿°ãªã®ã§ã™ãŒ<code>todoAPI</code>ã®ã‚ˆã†ã«Proxyã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½œã£ã¦ã‚„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚ŒãŒãªã„ã¨<code>serve</code>ã®æ™‚ã«ã†ã¾ãå‹ã‚’ã‚ã‚ã›ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚</p>
<p>å®Ÿè¡Œã—ã¦ <a href="http://localhost:3000/todo/all" class="uri">http://localhost:3000/todo/all</a> ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨Todoã®ãƒªã‚¹ãƒˆãŒJSONå½¢å¼ã§è¿”ã£ã¦ãã¦ã‚‹ã®ãŒã‚ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚</p>
<p>æ¬¡ã«Todoã®ä¸€è¦§ã‚’Webãƒšãƒ¼ã‚¸ã«ã¡ã‚ƒã‚“ã¨è¡¨ç¤ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚å·®åˆ†ã ã‘æ›¸ã„ã¦ã„ãã¾ã™</p>
<pre class="language-haskell"><code>import Servant.HTML.Lucid
import Data.Text (empty)
import Lucid

             -- GET /
type TodoAPI = Get '[HTML] (Html ())
             -- GET /todo/all
          :&lt;|&gt; &quot;todo&quot; :&gt; &quot;all&quot; :&gt; Get '[JSON] [Todo]
             -- static files /public/*
          :&lt;|&gt; &quot;public&quot; :&gt; Raw

server :: Server TodoAPI
server = index
    :&lt;|&gt; todoAll
    :&lt;|&gt; serveDirectory &quot;public&quot;
    where
    index   = return indexHtml
    todoAll = return [Todo 1 False &quot;Sleeping&quot;, Todo 2 True &quot;Dinner&quot;]

indexHtml :: Html ()
indexHtml = do
    doctype_
    html_ $ do
        head_ $ title_ [] &quot;Servant Todo Example&quot;
        body_ $ do
            h1_ [] &quot;Servant Todo Example&quot;
            table_ [id_ &quot;todo-list&quot;] &quot;&quot;
            script_ [src_ &quot;//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js&quot;] empty
            script_ [src_ &quot;/public/main.js&quot;] empty

-- ä»¥ä¸‹åŒã˜</code></pre>
<p><code>TodoAPI</code>ã«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒ2ã¤è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚è¤‡æ•°ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’æŒã¤APIã¯å‹ã®å®šç¾©ã‚’<code>:&lt;|&gt;</code>ã‚’ä½¿ã£ã¦çµåˆã—ã¦ã„ã‘ã°å¤§ä¸ˆå¤«ã§ã™ã€‚ã¾ãš<code>Get '[HTML] (Html ())</code>ã§ã™ã€‚ã“ã‚Œã¯ãƒ«ãƒ¼ãƒˆ<code>/</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸæ™‚ã«ãªã‚“ã‚‰ã‹ã®Webãƒšãƒ¼ã‚¸ã‚’è¿”ã™ã“ã¨ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚<code>HTML</code>ã¯servant-lucidã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¸­ã«å…¥ã£ã¦ã„ã‚‹å‹ã§ã™ã€‚ã“ã“ã§ã¯HTMLã‚’Lucidã‚’ä½¿ã£ã¦ä½œã£ã¦ã„ã¾ã™ã€‚<code>indexHtml</code>ãŒãã‚Œã§ã™ã€‚</p>
<p>HTMLã®ä¸­ã§<code>/public/main.js</code>ã«JavaScriptã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿ã«è¡Œã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚’é…ä¿¡ã™ã‚‹ãŸã‚ã«<code>&quot;public&quot; :&gt; Raw</code>ã¨ã„ã†å‹ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ã“ã†ã™ã‚‹ã“ã¨ã§<strong>/public/(path)</strong>ã§ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚ŒãŸæ™‚ã«pathã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥é…ä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»Šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p>
<pre class="language-bash"><code>$ tree .
.
â”œâ”€â”€ Main.hs
â””â”€â”€ public
 Â Â  â””â”€â”€ main.js</code></pre>
<p><code>main.js</code>ã®ä¸­èº«ã§ã™ã€‚</p>
<pre class="language-javascript"><code>var updateTodoList = function(list){
    $(&quot;#todo-list .todo-item&quot;).remove();
    list.sort(function(a, b){return a.id - b.id;})
    list.forEach(function(todo){
        var doneCheckbox = $(&quot;&lt;input /&gt;&quot;)
                           .attr(&quot;type&quot;, &quot;checkbox&quot;)
                           .prop(&quot;checked&quot;, todo.done);
        var deleteButton = $(&quot;&lt;button /&gt;&quot;)
                           .text(&quot;Delete&quot;);
        var tr = $(&quot;&lt;tr /&gt;&quot;)
                 .addClass(&quot;todo-item&quot;)
                 .append($(&quot;&lt;td /&gt;&quot;).text(todo.id))
                 .append($(&quot;&lt;td /&gt;&quot;).html(doneCheckbox))
                 .append($(&quot;&lt;td /&gt;&quot;).text(todo.title))
                 .append($(&quot;&lt;td /&gt;&quot;).html(deleteButton));
        $(&quot;#todo-list&quot;).append(tr);
    });
}

$.get(&quot;/todo/all&quot;, updateTodoList);</code></pre>
<p>å®Ÿè¡Œã—ã¦ <a href="http://localhost:3000/" class="uri">http://localhost:3000/</a> ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¦ãã ã•ã„ã€‚Todoã®ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ï¼</p>
<p>ãã‚Œã§ã¯Todoã‚’è‡ªåˆ†ã§ç™»éŒ²ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<pre class="language-haskell"><code>import Data.Text (empty, unpack)
import Data.IORef
import Control.Monad.IO.Class (liftIO)

instance FromFormUrlEncoded Todo where
    fromFormUrlEncoded form = let maybeTodo = do
                                      let id' = maybe (-1) (read . unpack) $ lookup &quot;id&quot; form
                                      let done   = maybe False (==&quot;on&quot;) $ lookup &quot;done&quot; form
                                      title &lt;- lookup &quot;title&quot; form
                                      return $ Todo id' done (unpack title)
                              in  maybe (Left &quot;Todo parse error from Form&quot;) Right maybeTodo
             -- GET /
type TodoAPI = Get '[HTML] (Html ())
             -- GET /todo/all
          :&lt;|&gt; &quot;todo&quot; :&gt; &quot;all&quot; :&gt; Get '[JSON] [Todo]
             -- POST /todo
          :&lt;|&gt; &quot;todo&quot; :&gt; ReqBody '[FormUrlEncoded] Todo :&gt; Post '[JSON] [Todo]
             -- static files /public/*
          :&lt;|&gt; &quot;public&quot; :&gt; Raw

server :: IORef [Todo] -&gt; Server TodoAPI
server todosRef = index
             :&lt;|&gt; todoAll
             :&lt;|&gt; createTodo
             :&lt;|&gt; serveDirectory &quot;public&quot;
    where
    index   = return indexHtml
    todoAll = liftIO $ readIORef todosRef
    createTodo todo = do
        todos &lt;- liftIO $ readIORef todosRef
        let nextId = if null todos
                         then 1
                         else (+1) . maximum . fmap todoId $ todos
        let todos' = todo {todoId = nextId} : todos
        liftIO $ writeIORef todosRef todos'
        return todos'

main :: IO ()
main = do
    putStrLn &quot;Listening on port 3000&quot;
    todosRef &lt;- newIORef []
    run 3000 $ serve todoAPI (server todosRef)

indexHtml :: Html ()
indexHtml = do
    doctype_
    html_ $ do
        head_ $ title_ [] &quot;Servant Todo Example&quot;
        body_ $ do
            h1_ [] &quot;Servant Todo Example&quot;
            table_ [id_ &quot;todo-list&quot;] &quot;&quot;
            form_ [id_ &quot;todo-form&quot;, method_ &quot;POST&quot;, action_ &quot;/todo&quot;] $ do
                input_ [type_ &quot;text&quot;, name_ &quot;title&quot;]
                input_ [type_ &quot;submit&quot;, value_ &quot;Add&quot;]
            script_ [src_ &quot;//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js&quot;] empty
            script_ [src_ &quot;/public/main.js&quot;] empty

-- ä»¥ä¸‹åŒã˜</code></pre>
<p>Formã§Todoã‚’é€ä¿¡ã™ã‚‹ã®ã§<code>FromFormUrlEncoded</code>ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã—ã¦ã„ã¾ã™ã€‚ç™»éŒ²ã•ã‚ŒãŸTodoã¯IORefã§ç®¡ç†ã—ã¦ã„ã¦<code>todoAll</code>ã¯ãã®ä¸­èº«ã‚’è¿”ã™ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã—ãŸã€‚</p>
<pre class="language-javascript"><code>$(&quot;#todo-form&quot;).on(&quot;submit&quot;, function(e){
    e.preventDefault();
    var $form = $(this);
    $.ajax({
        url: $form.attr('action'),
        type: $form.attr('method'),
        data: $form.serialize()
    })
    .then(updateTodoList);
});

-- ä»¥ä¸‹åŒã˜</code></pre>
<p>ã“ã‚Œã§å®Ÿè¡Œã™ã‚‹ã¨è‡ªåˆ†ã§Todoã‚’ã©ã‚“ã©ã‚“è¿½åŠ ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã¯ãšã§ã™ï¼</p>
<p>ã‚ã¨ã¯Todoã®çŠ¶æ…‹ã‚’ã‚ã¨ã‹ã‚‰å¤‰æ›´ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã‚Šã€Todoã‚’å‰Šé™¤ã—ãŸã‚Šã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã§ã™ã­ã€‚ãã‚Œã‚‰ã‚’å®Ÿè£…ã—ãŸã‚‚ã®ã‚’<a href="https://github.com/lotz84/servant-todo-example">lotz84/servant-todo-example</a>ã«ç½®ã„ã¦ãŠãã¾ã—ãŸã®ã§æ˜¯écloneã—ã¦ã•ã‚ã£ã¦ã¿ã¦ãã ã•ã„ã€‚</p>
<div>
    <a href="http://b.hatena.ne.jp/entry/" data-hatena-bookmark-layout="simple-balloon" title="ã“ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚’ã¯ã¦ãªãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã«è¿½åŠ " class="hatena-bookmark-button"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="ã“ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚’ã¯ã¦ãªãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã«è¿½åŠ " width="20" height="20" style="border: none;"></a><script type="text/javascript" src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
    <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.3";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script><div data-layout="button_count" data-action="like" data-show-faces="false" data-share="false" class="fb-like"></div>
</div>

<div class="hatena-bookmark-marker"></div>

<script type="text/javascript" charset="utf-8" src="http://b.hatena.ne.jp/js/bookmark_blogparts.js"></script>
<script type="text/javascript">
HBBlogParts.commentInsertSelector = [ 'div.hatena-bookmark-marker'];
HBBlogParts.permalinkSelector = [ 'div.entry-body-main h1 a'];
HBBlogParts.permalinkAttribute = 'href';
HBBlogParts.permalinkPathRegexp = /\/posts\/.*/;
</script>

            </div>
        </div>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-38246049-16', 'auto');
            ga('send', 'pageview');
        </script>
    </body>
</html>
